<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="Build a better app.">
    

    <!--Author-->
    
        <meta name="author" content="TanJunDang">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Canvas笔记"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="TanJunDang"/>

    <!--Page Cover-->
    
        <meta property="og:image" content="undefined"/>
    

    <!-- Title -->
    
    <title>Canvas笔记 - TanJunDang</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


    <!--Favicon-->
    

</head>

<body>

<!-- Menu -->
<!-- Navigation -->
<header>
    <div class="logo">
        <a href="/">TanJunDang</a>
    </div><!-- end logo -->

    <div id="menu_icon"></div>
    <nav>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives">Archives</a>
            </li>
            
        </ul>
    </nav><!-- end navigation menu -->

    <div class="footer clearfix">
        <ul class="social clearfix">
            
            
                <li><a href="https://www.facebook.com/" class="fb" target="_blank" data-title="Facebook"></a></li>
            
            
                <li><a href="https://www.behance.net/" class="behance" target="_blank" data-title="Behance"></a></li>
            
            
                <li><a href="https://plus.google.com/+Pixelhint/posts" class="google" target="_blank" data-title="Google+"></a></li>
            
            
                <li><a href="https://dribbble.com/pixelhint" class="dribble" target="_blank" data-title="Dribble"></a></li>
            
            
            
            
        </ul><!-- end social -->

        <div class="rights">
            <p>Copyright © 2014 magnetic.</p>
            <p>Template by <a href="http://pixelhint.com/magnetic-free-html5-responsive-photography-website-template/">Pixelhint.com</a></p>
            <p>Hexo Theme by <a href="http://www.codeblocq.com/">Jonathan K.</a></p>
        </div><!-- end rights -->
    </div ><!-- end footer -->
</header><!-- end header -->


<!-- Main Content -->
<section class="main clearfix">

    <section class="top" style="background: url('http://placehold.it/1300x500');">
        <div class="wrapper content_header clearfix">
            

<div class="work_nav">

    <ul class="btn clearfix">
        
        <li><a href="/2015/09/01/ListView/" class="previous" data-title="ListView的理解"></a></li>
        
        <li><a href="/" class="grid" data-title="Portfolio"></a></li>
        
        <li><a class="next disabled"></a></li>
        
    </ul>

</div><!-- end work_nav -->
            <h1 class="title">Canvas笔记</h1>
        </div>
    </section><!-- end top -->

    <section class="wrapper">
        <div class="content">

            <!-- Gallery -->
            

            <!-- Content -->
            <h1 id="对绘图的基本理解"><a href="#对绘图的基本理解" class="headerlink" title="对绘图的基本理解"></a>对绘图的基本理解</h1><p>绘图的两个基本工具是Paint跟Canvas  </p>
<blockquote>
<p>Canvas 决定画什么（简称View） 例如 点、线、面、圆<br>Paint 决定怎么画（简称Style） 例如 颜色、线条粗细等。</p>
 <a id="more"></a>
</blockquote>
<h2 id="Paint的常用方法"><a href="#Paint的常用方法" class="headerlink" title="Paint的常用方法"></a>Paint的常用方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//设置画笔边框粗细，值越大，越粗</span></span><br><span class="line">setStrokeWidth(<span class="keyword">float</span> width);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置alpha不透明度，a范围为0~255，值越低，越透明</span></span><br><span class="line">setAlpha(<span class="keyword">int</span> a)  </span><br><span class="line"></span><br><span class="line"><span class="comment">//是否抗锯齿，true为抗锯齿</span></span><br><span class="line">setAntiAlias(<span class="keyword">boolean</span> a)  </span><br><span class="line"></span><br><span class="line"><span class="comment">//设置颜色，设置RGB颜色</span></span><br><span class="line"><span class="comment">//用法1:setColor(Color.RED);</span></span><br><span class="line"><span class="comment">//用法2:setColor(Color.parseColor("#1abc9c"));</span></span><br><span class="line">setColor(<span class="keyword">int</span> color)  </span><br><span class="line"></span><br><span class="line"><span class="comment">//画笔类型 STROKE空心 FILL 实心</span></span><br><span class="line">setStyle(Style style)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//设置图形重叠时的处理方式，如合并，取交集或并集，经常用来制作橡皮的擦除效果    </span></span><br><span class="line">setXfermode(xfermode);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果要绘制多边形，可以通过Path类 ，然后通过drawPath方法来画出该形状。  </p>
</blockquote>
<h2 id="Canvas的常用方法"><a href="#Canvas的常用方法" class="headerlink" title="Canvas的常用方法"></a>Canvas的常用方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//画矩形</span></span><br><span class="line"><span class="comment">//drawRect(new Rect(x轴起始坐标，y轴起始坐标，x轴结束坐标，y轴结束坐标)); 可理解为对角线两个点之间形成的矩形，即起始点、结束点</span></span><br><span class="line">drawRect(Rect r, Paint paint);</span><br><span class="line"></span><br><span class="line">drawRect(<span class="keyword">float</span> left, <span class="keyword">float</span> top, <span class="keyword">float</span> right, <span class="keyword">float</span> bottom, Paint paint);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制圆角矩形</span></span><br><span class="line">drawRoundRect(RectF r,Paint paint);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制圆弧</span></span><br><span class="line"><span class="comment">//理解1.oval是矩形、startAngle是开始角度，sweepAngle是扫描过的角度，useCenter为true绘制扇形，false绘制圆弧。</span></span><br><span class="line"><span class="comment">//理解2.瞬时间方向，弧形角度增大。</span></span><br><span class="line"><span class="comment">//理解3.sweepAngle是指扫描角度，即一个扇形，例如开始角度-180，扫描角度为270，则形状以x负半轴开始扫描，扫描3个90度的扇形。</span></span><br><span class="line"><span class="comment">//用法</span></span><br><span class="line"><span class="comment">//先绘制一个正方形，然后设置起始角度，扫描角度。见示例。</span></span><br><span class="line"></span><br><span class="line">drawArc(RectF oval, <span class="keyword">float</span> startAngle, <span class="keyword">float</span> sweepAngle, <span class="keyword">boolean</span> useCenter, Paint paint)</span><br><span class="line"></span><br><span class="line"><span class="comment">//将画布以(x,y)点为中心。</span></span><br><span class="line"><span class="comment">//translate(mWidth / 2, mHeight / 2);画布以屏幕中心点为原点</span></span><br><span class="line">translate(<span class="keyword">float</span> dx, <span class="keyword">float</span> dy)</span><br></pre></td></tr></table></figure>
<h1 id="示例-绘制弧形"><a href="#示例-绘制弧形" class="headerlink" title="示例 - 绘制弧形"></a>示例 - 绘制弧形</h1><p><img src="http://imglf.nosdn.127.net/img/ZFRpZXBrMUVQR0MxUG9EZHRCeFF3VGVnSWdpb0dDbkVCUmV0ekN3L3VCTHllNmFyUXAzNGd3PT0.png?imageView&amp;thumbnail=300x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//绘制红色的矩形</span></span><br><span class="line">paint.setColor(Color.RED);</span><br><span class="line">Rect rect = <span class="keyword">new</span> Rect(-<span class="number">40</span>,-<span class="number">40</span>,<span class="number">40</span>,<span class="number">40</span>);</span><br><span class="line">canvas.drawRect(rect,paint);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制蓝色扇形 0-90度（四分之一圆）</span></span><br><span class="line">paint.setColor(Color.BLUE);</span><br><span class="line">canvas.drawArc(rect,<span class="number">0</span>,<span class="number">90</span>,<span class="keyword">true</span>,paint);</span><br></pre></td></tr></table></figure>
<p>git@git.coding.net:KevinSu/BNJ_teacher.git</p>
<h1 id="示例-绘制三角形"><a href="#示例-绘制三角形" class="headerlink" title="示例 - 绘制三角形"></a>示例 - 绘制三角形</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Path path = <span class="keyword">new</span> Path();</span><br><span class="line">path.moveTo(<span class="number">10</span>,<span class="number">340</span>); <span class="comment">//设置起始位置坐标  </span></span><br><span class="line">path.lineTo(<span class="number">70</span>,<span class="number">340</span>);<span class="comment">//画底部的线  </span></span><br><span class="line">path.lineTo(<span class="number">35</span>,<span class="number">290</span>);<span class="comment">//画另外一条边、最后一条自动连接 不需再画  </span></span><br><span class="line">path.close();  </span><br><span class="line">canvas.drawPath(path,p);</span><br></pre></td></tr></table></figure>
<p>#　技巧</p>
<blockquote>
<p>关于画文字：<br>如何让drawText内容居中？<br>1.画存放文字的矩形。<br>2.paint设置TextAlign，Paint.Align.CENTER<br>3.drawText使用矩形的centerX、bottom作为中心点</p>
<p>path 画线时，若path调用了close，则setStrokeCap无效<br>画矩形、椭圆、扇形、弧线、文字都需要先画一个矩形,（获取其对角线两个点的坐标即可）</p>
<p>drawArc(float left, float top, float right, float bottom, float startAngle,<br>            float sweepAngle, boolean useCenter, @NonNull Paint paint)<br>关于画扇形、弧线：<br>1.顺时针为正角度。<br>2.startAngle表示角度，sweepAngle表示变化的角度（例如 -60表示逆时针旋转60度），useCenter表示扇形是否连接到中心点。</p>
<p>关于Path的使用：<br>1.addArc用于绘制弧线<br>2.lineTo、arcTo都用于画线。arcTo用于画弧线。forceMoveTo表示是否强制移动到弧线起点。<br>arcTo(float left, float top, float right, float bottom, float startAngle,<br>            float sweepAngle, boolean forceMoveTo)</p>
<p>颜色的处理：<br>1.setColor、setRGB<br>2.setColorFilter（设置颜色过滤）、setShader （设置各种渐变）<br>3.setXferMode（设置图层显示方式）<br>线的处理：<br>1.setStrokeWidth<br>2.setStrokeCap（设置线头形状）<br>3.setStrokeJoin（设置拐角形状）<br>4.setStrokeMiter（设置拐角延长线）<br>5.setPathEffect（设置轮廓的形状）</p>
<p>关于图层的显示：</p>
<ol>
<li>先画的叫DST，后画的是SRC</li>
<li>DST_OVER表示A在B上</li>
<li>DST_OUT表示在A上挖空B</li>
<li>DST_IN表示重叠部分变成前者的颜色，不重叠部分变成白色</li>
</ol>
<p>canvas.translate(x,y)表示绘制容器相对原来的起始坐标，横向移动了x，纵向移动了y,并不是表示将绘制容器的起始点移动到点(x,y)</p>
<p>绘制文字：<br>1.drawText<br>2.drawTextOnPath<br>3.如何绘制多行文字<br>StaticLayout<br>4.setTypeface设置字体<br>paint.setTypeface(Typeface.createFromAsset(getContext().getAssets(), “Satisfy-Regular.ttf”));<br>5.setFakeBoldText设置粗体<br>6.setLetterSpacing设置间距<br>7.getTextBounds获取文字的显示范围<br>8.measureText测量文字的宽度并返回</p>
</blockquote>
<p><a href="http://blog.csdn.net/iispring/article/details/49770651" target="_blank" rel="external">优秀文章参考</a><br><a href="http://blog.csdn.net/duguang77/article/details/40716921" target="_blank" rel="external">Paint参考</a></p>
<p><a href="https://github.com/GcsSloop/AndroidNote/blob/master/CustomView%2FBase%2F%5B02%5DAngleAndRadian.md" target="_blank" rel="external">弧度知识</a></p>


            <!-- Tags -->
            


<div class="tags">
    <a href="/tags/Canvas笔记/">Canvas笔记</a>
</div>



            <!-- Comments -->
            <div>
                




            </div>
        </div><!-- end content -->
    </section>
</section><!-- end main -->

<!-- After footer scripts -->

<!-- jQuery -->
<script src="/js/jquery.js"></script>

<!-- Custom Code -->
<script src="/js/main.js"></script>

<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->


</body>

</html>