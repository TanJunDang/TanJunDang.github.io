<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>TanJunDang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="TanJunDang">
<meta property="og:url" content="TanJunDang.github.io/page/3/index.html">
<meta property="og:site_name" content="TanJunDang">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TanJunDang">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="TanJunDang" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: false,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','LFp3mbq3aoaxwzxP9eby','2.0.0');
</script>

        <a href="/" class="profilepic">
            
            <img src="/img/lrving.jpg" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">TanJunDang</a></h1>
        </hgroup>

        
        
            <form>
                <input type="text" class="st-default-search-input search" id="search" placeholder=" Search...">
            </form>
        
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">HOME</a></li>
                        
                            <li><a href="/archives">ARCHIVES</a></li>
                        
                            <li><a href="/about">ABOUT</a></li>
                        
                            <li><a href="/tags">TAGs</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="mailto:TanJunDang324@gmail.com" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/TanJunDang" title="github">github</a>
                            
                                <a class="fl twitter" target="_blank" href="http: //twitter.com/TanJunDang" title="twitter">twitter</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://stormzhang.com/">stormzhang</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://kevinsu917.github.io/posts/">kevinsu917</a>
                    
                    </div>
                </section>
                

                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">TanJunDang</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img src="/img/lrving.jpg" class="js-avatar" style="width: 100%; height: 100%; opacity: 1;">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">TanJunDang</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">HOME</a></li>
                
                    <li><a href="/archives">ARCHIVES</a></li>
                
                    <li><a href="/about">ABOUT</a></li>
                
                    <li><a href="/tags">TAGs</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="mailto:TanJunDang324@gmail.com" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/TanJunDang" title="github">github</a>
                    
                        <a class="twitter" target="_blank" href="http: //twitter.com/TanJunDang" title="twitter">twitter</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-OnTouchEvent" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/31/OnTouchEvent/" class="article-date">
      <time datetime="2016-03-31T02:44:19.000Z" itemprop="datePublished">2016-03-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/31/OnTouchEvent/">事件分发机制onTouchEvent笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h1 id="分发事件基本认识"><a href="#分发事件基本认识" class="headerlink" title="分发事件基本认识"></a>分发事件基本认识</h1><blockquote>
<p>跟Touch相关的三个方法</p>
</blockquote>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>dispatchTouchEvent</td>
<td>用来传递触摸event，一般不重写。</td>
</tr>
<tr>
<td>onInterceptTouchEvent</td>
<td>用来拦截触摸event，在ViewGroup才有。</td>
</tr>
<tr>
<td>onTouchEvent</td>
<td>用来处理触摸event。</td>
</tr>
</tbody>
</table>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/事件分发机制onTouchEvent笔记/">事件分发机制onTouchEvent笔记</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/03/31/OnTouchEvent/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-BNJSummarize" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/30/BNJSummarize/" class="article-date">
      <time datetime="2016-03-30T02:22:24.000Z" itemprop="datePublished">2016-03-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/30/BNJSummarize/">BNJ项目学到的知识点</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h3 id="如何解决多个按钮同时点击的bug"><a href="#如何解决多个按钮同时点击的bug" class="headerlink" title="如何解决多个按钮同时点击的bug"></a>如何解决多个按钮同时点击的bug</h3><ol>
<li>定义一个全局变量isClick。</li>
<li>在switch的每个case里判断isClick，执行完 设置isClick为false。</li>
<li><p>重写Activity的onResume方法，设置isClick为true。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BNJ项目学到的知识点/">BNJ项目学到的知识点</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Check/">Check</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ScanCode/">ScanCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/屏幕宽高/">屏幕宽高</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/时间戳/">时间戳</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/03/30/BNJSummarize/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Gradle" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/02/Gradle/" class="article-date">
      <time datetime="2016-02-02T06:13:06.000Z" itemprop="datePublished">2016-02-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/02/Gradle/">Gradle打包基础</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h1 id="gradle目录"><a href="#gradle目录" class="headerlink" title="gradle目录"></a>gradle目录</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MyApp</span><br><span class="line">├── build.gradle （ 可以查看Gradle的版本 ）</span><br><span class="line">├── settings.gradle（ include不同的模块）</span><br><span class="line">└── app</span><br><span class="line">    └── build.gradle（ 配置App模块的参数 ）</span><br></pre></td></tr></table></figure>
<p><a href="/2016/04/04/ProGuard/">混淆</a></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gradle打包基础/">Gradle打包基础</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/02/02/Gradle/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Widgets" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/01/Widgets/" class="article-date">
      <time datetime="2016-02-01T14:05:41.000Z" itemprop="datePublished">2016-02-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/01/Widgets/">Widgets学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h1 id="EditText"><a href="#EditText" class="headerlink" title="EditText"></a>EditText</h1><h2 id="EditText禁止输入回车"><a href="#EditText禁止输入回车" class="headerlink" title="EditText禁止输入回车"></a>EditText禁止输入回车</h2><ul>
<li>方法一</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dispatchKeyEvent</span><span class="params">(KeyEvent event)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">switch</span> (event.getKeyCode()) &#123;</span><br><span class="line">    	<span class="keyword">case</span> KeyEvent.KEYCODE_DPAD_CENTER:</span><br><span class="line">    	<span class="keyword">case</span> KeyEvent.KEYCODE_ENTER:</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.dispatchKeyEvent(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在布局文件里声明singleLine属性</span></span><br><span class="line">android:singleLine=<span class="string">"true"</span></span><br></pre></td></tr></table></figure>
<h2 id="EditText-只读内容滚动"><a href="#EditText-只读内容滚动" class="headerlink" title="EditText 只读内容滚动"></a>EditText 只读内容滚动</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setKeyListener(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
<h2 id="光标移到最后"><a href="#光标移到最后" class="headerlink" title="光标移到最后"></a>光标移到最后</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Editable ea = editText.getText();</span><br><span class="line">editText.setSelection(ea.length());</span><br></pre></td></tr></table></figure>
<h2 id="软键盘相关"><a href="#软键盘相关" class="headerlink" title="软键盘相关"></a>软键盘相关</h2><p>Mainfest中设置   windowSoftInputMode属性</p>
<p>android:windowSoftInputMode=”stateAlwaysVisible”</p>
<p>【A】stateUnspecified：默认状态，系统将选择一个合适的状态或依赖于主题的设置</p>
<p>【B】stateUnchanged：当这个activity出现时，软键盘将一直保持在上一个activity里的状态，无论是隐藏还是显示</p>
<p>【C】stateHidden：用户选择activity时，软键盘总是被隐藏.—&gt;点击以下Edittext才显示软键盘。在Mainfest文件设置无效。需要在Activity里设置下列代码。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);</span><br></pre></td></tr></table></figure>
<p>【D】stateAlwaysHidden：当该Activity主窗口获取焦点时，软键盘也总是被隐藏的</p>
<p>【E】stateVisible：软键盘通常是可见的</p>
<p>【F】stateAlwaysVisible：用户选择activity时，软键盘总是显示的状态</p>
<p>【G】adjustUnspecified：默认设置，通常由系统自行决定是隐藏还是显示</p>
<p>【H】adjustResize：该Activity总是调整屏幕的大小以便留出软键盘的空间 (将底部的按钮往上顶)</p>
<p>【I】adjustPan：当前窗口的内容将自动移动以便当前焦点从不被键盘覆盖和用户能总是看到输入内容的部分(整个页面往上顶)</p>
<h2 id="设置EditText默认不弹出小键盘"><a href="#设置EditText默认不弹出小键盘" class="headerlink" title="设置EditText默认不弹出小键盘"></a>设置EditText默认不弹出小键盘</h2><ul>
<li>配置文件中配置下列代码  </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">android:windowSoftInputMode=<span class="string">"adjustUnspecified|stateHidden"</span></span><br><span class="line">---或者</span><br><span class="line">android:windowSoftInputMode=<span class="string">"adjustResize|stateAlwaysHidden"</span> <span class="comment">//默认不弹出键盘,以及将底部按钮显示在软键盘上方</span></span><br><span class="line">---或者</span><br><span class="line">android:windowSoftInputMode=<span class="string">"adjustNothing|stateHidden"</span></span><br></pre></td></tr></table></figure>
<h2 id="软键盘顶走按钮"><a href="#软键盘顶走按钮" class="headerlink" title="软键盘顶走按钮"></a>软键盘顶走按钮</h2><p><img src="http://imglf.nosdn.127.net/img/U05xRllGZk4zNU5BVlpSd2JsdENCL1U5c0JhVmtNNFA1aXJXU1RqWGhLczNCbS9teHRGSTNRPT0.jpg?imageView&amp;thumbnail=200x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt=""></p>
<p>解决方法：</p>
<blockquote>
<p>在activity设置windowSoftInputMode属性为adjustPan/adjustResize</p>
</blockquote>
<p><img src="http://imglf1.nosdn.127.net/img/U05xRllGZk4zNU95K2NaQjlQd1JDbm5jUE5Jd0dyTDg5b2RrRVZIbnMwdkdyOGZGNGhBbVJRPT0.jpg?imageView&amp;thumbnail=200x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt=""></p>
<p><a href="/2016/02/01/Widgets/">EditText</a></p>
<p>标题栏被顶走</p>
<p>解决方法：</p>
<blockquote>
<p>在activity设置windowSoftInputMode属性为adjustResize</p>
</blockquote>
<h2 id="如何防止ActionBar被软键盘顶走"><a href="#如何防止ActionBar被软键盘顶走" class="headerlink" title="如何防止ActionBar被软键盘顶走"></a>如何防止ActionBar被软键盘顶走</h2><p>在有Edittext的LinearLayout外添加一个ScrollView。</p>
<p><a href="http://2dxgujun.com/post/2014/10/23/Soft-Keyboard-Jacking-Control.html">EditText顶走ActionBar参考</a></p>
<h1 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h1><p><a href="/2015/09/01/ListView/">ListView</a></p>
<h1 id="RecyclerView"><a href="#RecyclerView" class="headerlink" title="RecyclerView"></a>RecyclerView</h1><p><a href="/2016/01/10/RecyclerView/">RecyclerView</a></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Widgets学习/">Widgets学习</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/02/01/Widgets/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ImageUpload" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/29/ImageUpload/" class="article-date">
      <time datetime="2016-01-29T02:23:27.000Z" itemprop="datePublished">2016-01-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/29/ImageUpload/">图片增加、删除</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h1 id="利用RecyclerView实现图片新增、删除"><a href="#利用RecyclerView实现图片新增、删除" class="headerlink" title="利用RecyclerView实现图片新增、删除"></a>利用RecyclerView实现图片新增、删除</h1><h2 id="删除-新增"><a href="#删除-新增" class="headerlink" title="删除 新增"></a>删除 新增</h2><p><img src="http://imglf.nosdn.127.net/img/U05xRllGZk4zNVBPVkk0UDFXOXdnRElIK2RMZVRrcVVUYkVUcnozM09VYXVlTXhHMWNLay9BPT0.jpg?imageView&amp;thumbnail=300x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt="">    <img src="http://imglf2.nosdn.127.net/img/U05xRllGZk4zNVBPVkk0UDFXOXdnUExxVlY3cTlvZW1PT2h2U1lJWW9uK0RPdHc0dlFWR2lBPT0.jpg?imageView&amp;thumbnail=300x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt=""></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ImageUpload/">ImageUpload</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RecyclerView/">RecyclerView</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/29/ImageUpload/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LayoutInflater" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/13/LayoutInflater/" class="article-date">
      <time datetime="2016-01-13T08:19:33.000Z" itemprop="datePublished">2016-01-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/13/LayoutInflater/">LayoutInflater的理解</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="LayoutInflater的inflate方法分析"><a href="#LayoutInflater的inflate方法分析" class="headerlink" title="LayoutInflater的inflate方法分析"></a>LayoutInflater的inflate方法分析</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">inflater.inflate(待加载布局,给该布局嵌套一个父布局,是否加载到父布局);</span><br><span class="line"></span><br><span class="line">View view = inflater.inflate(R.layout.button_layout, main_layout);</span><br><span class="line">View view = inflater.inflate(R.layout.button_layout, main_layout,<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//加载一个布局到父布局,不填写参数、默认为true 上面两句代码效果一样</span></span><br><span class="line"></span><br><span class="line">View view = inflater.inflate(R.layout.button_layout, main_layout,<span class="keyword">false</span>);</span><br><span class="line"><span class="comment">//不加载到父布局，但是使用父布局的属性。若要加载需要通过父布局addView的方法加载</span></span><br><span class="line"></span><br><span class="line">View view = inflater.inflate(R.layout.button_layout, <span class="keyword">null</span>,<span class="keyword">true</span>);</span><br><span class="line">父布局调用addView后，view的宽高不会显示自己的属性，而是用父布局的属性。</span><br><span class="line"></span><br><span class="line"><span class="comment">//父布局为null,后面的参数无效</span></span><br></pre></td></tr></table></figure>
<p>自定义View</p>
<p>分析Adatper里的一句代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i , View view , ViewGroup parent)</span></span>&#123;</span><br><span class="line">	view = inflater.inflate(R.layout.list_item, parent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>1.view 是指list_item里面的根标签<br>2.parent 是指外部使用该Item的控件，即ListView<br>3.由于adapter默认就是要将View加入到ViewGroup里，所以设置第三个参数是无效的。</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LayoutInflater/">LayoutInflater</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Animation" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/01/Animation/" class="article-date">
      <time datetime="2016-01-01T12:20:39.000Z" itemprop="datePublished">2016-01-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/01/Animation/">Android动画</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><blockquote>
<p>1.在res目录创建anim目录<br>2.创建标签为set的xml文件</p>
<p>动画坐标图</p>
</blockquote>
<p><img src="http://imglf1.nosdn.127.net/img/U05xRllGZk4zNU5iUnE3REJPcVJyRXpHVFdpSjkybFBPdC9rSUJJTEVrbEpsQzhGaXNld2tnPT0.png?imageView&amp;thumbnail=500x0&amp;quality=96&amp;stripmeta=0&amp;type=jpg" alt=""></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android动画/">Android动画</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Style/">Style</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2016/01/01/Animation/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Android-Broadcast" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/19/Android-Broadcast/" class="article-date">
      <time datetime="2015-11-19T07:43:42.000Z" itemprop="datePublished">2015-11-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/19/Android-Broadcast/">四大组件之Broadcast</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="Broadcast的理解"><a href="#Broadcast的理解" class="headerlink" title="Broadcast的理解"></a>Broadcast的理解</h3><ul>
<li>当收到某系统消息时，可以做相应的处理。</li>
<li>动态注册：程序启动后才有效。</li>
<li>静态注册：不需要启动程序就有效。</li>
</ul>
<h3 id="动态广播实际开发"><a href="#动态广播实际开发" class="headerlink" title="动态广播实际开发"></a>动态广播实际开发</h3><ul>
<li>服务器下发新消息时，通知MainActivity更改UI</li>
</ul>
<ol>
<li>继承BroadcastReceiver</li>
<li>定义过滤的Action</li>
<li>添加回调接口</li>
<li>构造函数初始化接口</li>
<li>重写onReceive方法(调用接口的方法)</li>
<li>实现接口、动态注册接口(LocalBroadcastManager类)</li>
<li>在获取到服务器数据的地方发送广播</li>
<li>在ondestory里取消广播</li>
</ol>
<h4 id="创建广播"><a href="#创建广播" class="headerlink" title="创建广播"></a>创建广播</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span> </span>&#123;</span><br><span class="line">    CallBack callBack;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TEST_ACTION = <span class="string">"io.movies.test.broadcaststudy.TestReceiver"</span>; <span class="comment">//定义过滤广播的Action</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestReceiver</span><span class="params">(CallBack callBack)</span> </span>&#123; <span class="comment">//提供注册绑定的方法</span></span><br><span class="line">        <span class="keyword">this</span>.callBack = callBack;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (callBack != <span class="keyword">null</span>) &#123;</span><br><span class="line">            callBack.doSomething(intent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 回调接口</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CallBack</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">(Intent intent)</span></span>; <span class="comment">//返回intent数据</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="Activity注册广播"><a href="#Activity注册广播" class="headerlink" title="Activity注册广播"></a>Activity注册广播</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> TestReceiver msgReceiver</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">	msgReceiver = <span class="keyword">new</span> TestReceiver(<span class="keyword">this</span>); <span class="comment">//实例化</span></span><br><span class="line">	IntentFilter filter = <span class="keyword">new</span> IntentFilter(TestReceiver.TEST_ACTION);<span class="comment">//设置过滤器</span></span><br><span class="line">	<span class="comment">//利用LocalBroadcastManager调用其注册广播(使用LocalBroadcastManager提高安全性)</span></span><br><span class="line">	LocalBroadcastManager.getInstance(getActivity()).registerReceiver(msgReceiver, filter);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.onDestroy();</span><br><span class="line">	LocalBroadcastManager.getInstance(TestActivity.<span class="keyword">this</span>).unregisterReceiver(receiver);<span class="comment">//关闭广播</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="模拟服务器下发通知"><a href="#模拟服务器下发通知" class="headerlink" title="模拟服务器下发通知"></a>模拟服务器下发通知</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">studyBroadcase</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">	Intent intent = <span class="keyword">new</span> Intent(TestReceiver.TEST_ACTION);</span><br><span class="line">	intent.putExtra(TAG, <span class="string">"Sam-Tam"</span>);</span><br><span class="line">	sendBroadcast(intent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="静态广播实际开发"><a href="#静态广播实际开发" class="headerlink" title="静态广播实际开发"></a>静态广播实际开发</h3><ul>
<li>监听系统网络状态改变,从而做相应的处理。</li>
</ul>
<p>同上,注册的时候用registerReceiver、unregisterReceiver,用LocalBroadcastManager无效。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//定义Broadcast</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NetworkChangeReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义过滤系统action</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String NETWORK_ACTION = ConnectivityManager.CONNECTIVITY_ACTION;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> NetworkChangeCallback callback;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NetworkChangeReceiver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NetworkChangeReceiver</span><span class="params">(NetworkChangeCallback callback)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.callback = callback;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (callback != <span class="keyword">null</span>) &#123;</span><br><span class="line">            callback.refresh();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 网络状态变化的回调接口</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">NetworkChangeCallback</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">refresh</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//activity的onCreate方法里注册Receiver</span></span><br><span class="line"></span><br><span class="line">receiver = <span class="keyword">new</span> NetworkChangeReceiver(<span class="keyword">this</span>);</span><br><span class="line">registerReceiver(receiver, <span class="keyword">new</span> IntentFilter(NetworkChangeReceiver.NETWORK_ACTION));</span><br><span class="line"></span><br><span class="line"><span class="comment">//反注册</span></span><br><span class="line"></span><br><span class="line">unregisterReceiver(receiver);</span><br></pre></td></tr></table></figure>
<h3 id="Fragment里注册广播注意事项"><a href="#Fragment里注册广播注意事项" class="headerlink" title="Fragment里注册广播注意事项"></a>Fragment里注册广播注意事项</h3><ul>
<li>不能在OnCreateView里面注册,要在onCreate方法里面注册</li>
<li>记得在ondestory方法里注销广播</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Broadcast/">Broadcast</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-JAVASE" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/18/JAVASE/" class="article-date">
      <time datetime="2015-11-18T07:03:37.000Z" itemprop="datePublished">2015-11-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/18/JAVASE/">JAVASE基础</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h1 id="回调函数Callback的理解"><a href="#回调函数Callback的理解" class="headerlink" title="回调函数Callback的理解"></a>回调函数Callback的理解</h1><blockquote>
<p>A做了一半任务，需要等待B完成任务并返回数据(预留接口引用,给别人调用)，然后再完成自己的接下来的任务。</p>
</blockquote>
<h2 id="回调接口-——-数据提供者编写"><a href="#回调接口-——-数据提供者编写" class="headerlink" title="回调接口 —— 数据提供者编写"></a>回调接口 —— 数据提供者编写</h2><h3 id="数据提供者"><a href="#数据提供者" class="headerlink" title="数据提供者"></a>数据提供者</h3><blockquote>
<p>1.预留接口给他人实现(定义接口) OnItemListener<br>2.创建接口引用 onItemListener listener<br>3.提供注册接口的方法(注册接口) setonlistener<br>4.在给数据的地方注册并调用接口的方法(通过接口引用调用方法) listener.giveMsg();</p>
</blockquote>
<h3 id="数据获取者"><a href="#数据获取者" class="headerlink" title="数据获取者"></a>数据获取者</h3><blockquote>
<p>1.实现回调接口 implements Callback<br>2.注册回调函数</p>
</blockquote>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Callback接口/">Callback接口</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA基础知识/">JAVA基础知识</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/2015/11/18/JAVASE/#more">阅读全文 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Android-Activity" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/Android-Activity/" class="article-date">
      <time datetime="2015-10-30T07:42:08.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/Android-Activity/">四大组件之Activity</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="如何理解Task？"><a href="#如何理解Task？" class="headerlink" title="如何理解Task？"></a>如何理解Task？</h3><ul>
<li><font color="blue">Task类似一个栈,他是跨应用的,即Task可以存放不同程序的Activity。</font>例如我们的程序中Activity A有发送短信的功能,点击按钮后，便会启动发短信的程序里的Activity B。发完短信后，按返回键，便回到原来的Activity A中。从而确保了用户体验.</li>
</ul>
<h3 id="Activity启动模式"><a href="#Activity启动模式" class="headerlink" title="Activity启动模式"></a>Activity启动模式</h3><ul>
<li><p>Standard：每次启动Activity都在栈中创建一个实例。</p>
</li>
<li><p>SingleTop：启动的Activity位于栈顶，则直接复用该Activity，并且会调用onNewIntent方法,然后将Intent传到实例中。(当前Activity跳当前Activity不创建实例),否则还是会创建实例。</p>
</li>
<li><p>SingleTask：如果待启动的Activity已存在栈中，则把待启动Activity之前的所有Activity弹出。然后复用旧的Activity</p>
</li>
<li><p>SingleInstance：<font color="red">跨应用的SingleTask模式。且每个Task有且仅有一个Activity</font></p>
</li>
<li><p>onNewIntent何时调用？ <font color="blue">复用Activity的时候</font></p>
</li>
</ul>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><p>新建三个Activity 里面包含一个跳转Button、一个改值Button、一个TextView。A跳B跳C再返回，观察TextView值的变化。</p>
<ul>
<li>Standard：由A跳到C再返回，结果：一层层返回。</li>
<li>SingleTop：将A设置为SingleTop模式,改值,由A-B-&gt;C-&gt;A再返回。结果：未改值,说明新建了A实例。同样是一层层返回。</li>
<li>SingleTask：将A设置为SingleTask模式,改值,由A-&gt;B-&gt;C-&gt;A再返回。结果：改了值(说明直接复用旧的Activity)，A返回则直接结束程序。</li>
<li>SingleInstance：<ul>
<li>程序1中的A设置成SingleInstance模式,改值，程序2中启动程序1中的A.结果：改了值(说明直接复用旧的Activity)</li>
<li>程序1中的A设置成SingleInstance模式,改值由A-&gt;B-&gt;C-&gt;A再返回。结果：A返回C，C返回B，B结束程序。(说明A是在单独的一个Task中，BC在同一个Task中)</li>
</ul>
</li>
<li>参考文献：<ul>
<li><a href="http://www.cnblogs.com/meizixiong/archive/2013/07/03/3170591.html" target="_blank" rel="external">Android入门：Activity四种启动模式</a></li>
<li><a href="http://blog.csdn.net/infsafe/article/details/5666964" target="_blank" rel="external">Android的Activity和Tasks详解</a></li>
<li><a href="http://www.runoob.com/w3cnote/android-tutorial-activity-intro.html" target="_blank" rel="external">菜鸟教程-Activity登堂入室</a></li>
</ul>
</li>
</ul>
<h4 id="实际应用场景"><a href="#实际应用场景" class="headerlink" title="实际应用场景"></a>实际应用场景</h4><ul>
<li>SingleTask</li>
</ul>
<blockquote>
<p>背景：在BNJ项目1.0的时候，认证设置功能应该使用SingleTask模式。认证设置(A)-&gt;认证列表(B)-&gt;上传图片(C)-&gt;结果页面(D)-&gt;认证列表(B).<br>分析：这里的B应该设置成SingleTask模式。并且重写onNewIntent方法，从而获取设置后的值来更新页面。</p>
</blockquote>
<ul>
<li>SingleInstance</li>
</ul>
<blockquote>
<p>背景：当程序1要去另一个程序2获取数据时，其过程如下。程序1MainActivity-&gt;A-&gt;B-&gt;程序2中的C-&gt;返回数据给A<br>分析：A设置成SingleInstance模式。B跳C后finish。C跳A后Finish。</p>
</blockquote>
<h3 id="如何启动另外一个程序里的Activity"><a href="#如何启动另外一个程序里的Activity" class="headerlink" title="如何启动另外一个程序里的Activity"></a>如何启动另外一个程序里的Activity</h3><h4 id="通过设置Action"><a href="#通过设置Action" class="headerlink" title="通过设置Action"></a>通过设置Action</h4><ul>
<li><p>被启动的Activity（A）在AndroidMainfest里设置Action</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;intent-filter&gt;  //此处一个Activity可以有多个intent-filter 但一个intent-filter不能有多个Action</span><br><span class="line">	&lt;action android:name="android.intent.action.MAIN" /&gt;</span><br><span class="line">	&lt;category android:name="android.intent.category.LAUNCHER" /&gt;</span><br><span class="line">&lt;/intent-filter&gt;</span><br><span class="line">&lt;intent-filter&gt; //跳转其他程序Activity必备两句代码</span><br><span class="line">	&lt;action android:name="io.samtam.test.AActivity" /&gt;</span><br><span class="line">	&lt;category android:name="android.intent.category.DEFAULT" /&gt;</span><br><span class="line">&lt;/intent-filter&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>B将上述Action作为Intent的参数启动Activity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="string">"io.samtam.test.AActivity"</span>);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="利用intent的setClass或setComponent方法（待补充）"><a href="#利用intent的setClass或setComponent方法（待补充）" class="headerlink" title="利用intent的setClass或setComponent方法（待补充）"></a>利用intent的setClass或setComponent方法（待补充）</h4><hr>
<h3 id="onSaveInstanceState和onRestoreInstanceState的理解"><a href="#onSaveInstanceState和onRestoreInstanceState的理解" class="headerlink" title="onSaveInstanceState和onRestoreInstanceState的理解"></a>onSaveInstanceState和onRestoreInstanceState的理解</h3><ul>
<li><font color="red">onSave、onRestore在系统内存不足销毁Activity时，进行数据恢复。</font>

</li>
</ul>
<h4 id="onSaveInstanceState和onRestoreInstanceState的作用"><a href="#onSaveInstanceState和onRestoreInstanceState的作用" class="headerlink" title="onSaveInstanceState和onRestoreInstanceState的作用"></a>onSaveInstanceState和onRestoreInstanceState的作用</h4><ul>
<li>onSaveInstanceState作用是保存临时状态。(在onPause或onStop方法之前)</li>
<li>onRestoreInstanceState作用是恢复状态。</li>
</ul>
<h4 id="onSaveInstanceState和onRestoreInstanceState何时调用"><a href="#onSaveInstanceState和onRestoreInstanceState何时调用" class="headerlink" title="onSaveInstanceState和onRestoreInstanceState何时调用"></a>onSaveInstanceState和onRestoreInstanceState何时调用</h4><ul>
<li>当某个Activity被系统销毁时(非用户点击)，便会执行onSaveInstanceState。例如下列情况<ul>
<li>用户长按HOME键，选择运行其他程序时。</li>
<li>用户按下HOME键时。</li>
<li>用户按下电源键时。</li>
<li>屏幕切换时。</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>确定Activity被销毁的时候，onRestoreInstanceState方法肯定执行。</li>
</ul>
<h4 id="默认状态"><a href="#默认状态" class="headerlink" title="默认状态"></a>默认状态</h4><p>调用父类的方法,默认保存一些UI状态,例如Edittext的值、CheckBox的勾选状态。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">super</span>.onSaveInstanceState(outState)</span><br></pre></td></tr></table></figure>
<h4 id="暂离状态保存数据的选择"><a href="#暂离状态保存数据的选择" class="headerlink" title="暂离状态保存数据的选择"></a>暂离状态保存数据的选择</h4><ul>
<li>onSaveInstanceState用于保存瞬态数据。</li>
<li>onPause用于保存持久化数据(保存在文件、数据库),但不能保存耗时数据。</li>
</ul>
<h3 id="横竖屏相关知识"><a href="#横竖屏相关知识" class="headerlink" title="横竖屏相关知识"></a>横竖屏相关知识</h3><h4 id="配置文件里配置"><a href="#配置文件里配置" class="headerlink" title="配置文件里配置"></a>配置文件里配置</h4><blockquote>
<p>AndroidMainfest文件里Activity的属性android:screenOrientation, 有下述可选值：</p>
</blockquote>
<ul>
<li>unspecified:默认值 由系统来判断显示方向.判定的策略是和设备相关的，所以不同的设备会有不同的显示方向。</li>
<li>landscape:横屏显示（宽比高要长）</li>
<li>portrait:竖屏显示(高比宽要长)</li>
<li>user:用户当前首选的方向</li>
<li>behind:和该Activity下面的那个Activity的方向一致(在Activity堆栈中的)</li>
<li>sensor:有物理的感应器来决定。如果用户旋转设备这屏幕会横竖屏切换。</li>
<li>nosensor:忽略物理感应器，这样就不会随着用户旋转设备而更改了（”unspecified”设置除外）。</li>
</ul>
<h4 id="横竖屏加载不同布局"><a href="#横竖屏加载不同布局" class="headerlink" title="横竖屏加载不同布局"></a>横竖屏加载不同布局</h4><blockquote>
<p>onCreate里调用下面代码</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE)&#123;  </span><br><span class="line">     setContentView(R.layout.横屏);</span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.getResources().getConfiguration().orientation ==Configuration.ORIENTATION_PORTRAIT) &#123;  </span><br><span class="line">    setContentView(R.layout.竖屏);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="常见Intent"><a href="#常见Intent" class="headerlink" title="常见Intent"></a>常见Intent</h3><blockquote>
<p>//1.拨打电话<br>// 给移动客服10086拨打电话<br>Uri uri = Uri.parse(“tel:10086”);<br>Intent intent = new Intent(Intent.ACTION_DIAL, uri);<br>startActivity(intent);<br>//2.发送短信<br>// 给10086发送内容为“Hello”的短信<br>Uri uri = Uri.parse(“smsto:10086”);<br>Intent intent = new Intent(Intent.ACTION_SENDTO, uri);<br>intent.putExtra(“sms_body”, “Hello”);<br>startActivity(intent);<br>//3.发送彩信（相当于发送带附件的短信）<br>Intent intent = new Intent(Intent.ACTION_SEND);<br>intent.putExtra(“sms_body”, “Hello”);<br>Uri uri = Uri.parse(“content://media/external/images/media/23”);<br>intent.putExtra(Intent.EXTRA_STREAM, uri);<br>intent.setType(“image/png”);<br>startActivity(intent);<br>//4.打开浏览器:<br>// 打开Google主页<br>Uri uri = Uri.parse(“<a href="http://www.baidu.com" target="_blank" rel="external">http://www.baidu.com</a>“);<br>Intent intent  = new Intent(Intent.ACTION_VIEW, uri);<br>startActivity(intent);<br>//5.发送电子邮件:(阉割了Google服务的没戏!!!!)<br>// 给someone@domain.com发邮件<br>Uri uri = Uri.parse(“mailto:someone@domain.com”);<br>Intent intent = new Intent(Intent.ACTION_SENDTO, uri);<br>startActivity(intent);<br>// 给someone@domain.com发邮件发送内容为“Hello”的邮件<br>Intent intent = new Intent(Intent.ACTION_SEND);<br>intent.putExtra(Intent.EXTRA_EMAIL, “someone@domain.com”);<br>intent.putExtra(Intent.EXTRA_SUBJECT, “Subject”);<br>intent.putExtra(Intent.EXTRA_TEXT, “Hello”);<br>intent.setType(“text/plain”);<br>startActivity(intent);<br>// 给多人发邮件<br>Intent intent=new Intent(Intent.ACTION_SEND);<br>String[] tos = {“1@abc.com”, “2@abc.com”}; // 收件人<br>String[] ccs = {“3@abc.com”, “4@abc.com”}; // 抄送<br>String[] bccs = {“5@abc.com”, “6@abc.com”}; // 密送<br>intent.putExtra(Intent.EXTRA_EMAIL, tos);<br>intent.putExtra(Intent.EXTRA_CC, ccs);<br>intent.putExtra(Intent.EXTRA_BCC, bccs);<br>intent.putExtra(Intent.EXTRA_SUBJECT, “Subject”);<br>intent.putExtra(Intent.EXTRA_TEXT, “Hello”);<br>intent.setType(“message/rfc822”);<br>startActivity(intent);<br>//6.显示地图:<br>// 打开Google地图中国北京位置（北纬39.9，东经116.3）<br>Uri uri = Uri.parse(“geo:39.9,116.3”);<br>Intent intent = new Intent(Intent.ACTION_VIEW, uri);<br>startActivity(intent);<br>//7.路径规划<br>// 路径规划：从北京某地（北纬39.9，东经116.3）到上海某地（北纬31.2，东经121.4）<br>Uri uri = Uri.parse(“<a href="http://maps.google.com/maps?f=d&amp;saddr=39.9" target="_blank" rel="external">http://maps.google.com/maps?f=d&amp;saddr=39.9</a> 116.3&amp;daddr=31.2 121.4”);<br>Intent intent = new Intent(Intent.ACTION_VIEW, uri);<br>startActivity(intent);<br>//8.多媒体播放:<br>Intent intent = new Intent(Intent.ACTION_VIEW);<br>Uri uri = Uri.parse(“file:///sdcard/foo.mp3”);<br>intent.setDataAndType(uri, “audio/mp3”);<br>startActivity(intent);<br>//获取SD卡下所有音频文件,然后播放第一首=-=<br>Uri uri = Uri.withAppendedPath(MediaStore.Audio.Media.INTERNAL_CONTENT_URI, “1”);<br>Intent intent = new Intent(Intent.ACTION_VIEW, uri);<br>startActivity(intent);<br>//9.打开摄像头拍照:<br>// 打开拍照程序<br>Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);<br>startActivityForResult(intent, 0);<br>// 取出照片数据<br>Bundle extras = intent.getExtras();<br>Bitmap bitmap = (Bitmap) extras.get(“data”);<br>//另一种:<br>//调用系统相机应用程序，并存储拍下来的照片<br>Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);<br>time = Calendar.getInstance().getTimeInMillis();<br>intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(new File(Environment<br>.getExternalStorageDirectory().getAbsolutePath()+”/tucue”, time + “.jpg”)));<br>startActivityForResult(intent, ACTIVITY_GET_CAMERA_IMAGE);<br>//10.获取并剪切图片<br>// 获取并剪切图片<br>Intent intent = new Intent(Intent.ACTION_GET_CONTENT);<br>intent.setType(“image/*”);<br>intent.putExtra(“crop”, “true”); // 开启剪切<br>intent.putExtra(“aspectX”, 1); // 剪切的宽高比为1：2<br>intent.putExtra(“aspectY”, 2);<br>intent.putExtra(“outputX”, 20); // 保存图片的宽和高<br>intent.putExtra(“outputY”, 40);<br>intent.putExtra(“output”, Uri.fromFile(new File(“/mnt/sdcard/temp”))); // 保存路径<br>intent.putExtra(“outputFormat”, “JPEG”);// 返回格式<br>startActivityForResult(intent, 0);<br>// 剪切特定图片<br>Intent intent = new Intent(“com.android.camera.action.CROP”);<br>intent.setClassName(“com.android.camera”, “com.android.camera.CropImage”);<br>intent.setData(Uri.fromFile(new File(“/mnt/sdcard/temp”)));<br>intent.putExtra(“outputX”, 1); // 剪切的宽高比为1：2<br>intent.putExtra(“outputY”, 2);<br>intent.putExtra(“aspectX”, 20); // 保存图片的宽和高<br>intent.putExtra(“aspectY”, 40);<br>intent.putExtra(“scale”, true);<br>intent.putExtra(“noFaceDetection”, true);<br>intent.putExtra(“output”, Uri.parse(“file:///mnt/sdcard/temp”));<br>startActivityForResult(intent, 0);<br>//11.打开Google Market<br>// 打开Google Market直接进入该程序的详细页面<br>Uri uri = Uri.parse(“market://details?id=” + “com.demo.app”);<br>Intent intent = new Intent(Intent.ACTION_VIEW, uri);<br>startActivity(intent);<br>//12.进入手机设置界面:<br>// 进入无线网络设置界面（其它可以举一反三）<br>Intent intent = new Intent(android.provider.Settings.ACTION_WIRELESS_SETTINGS);<br>startActivityForResult(intent, 0);<br>//13.安装apk:<br>Uri installUri = Uri.fromParts(“package”, “xxx”, null);<br>returnIt = new Intent(Intent.ACTION_PACKAGE_ADDED, installUri);<br>//14.卸载apk:<br>Uri uri = Uri.fromParts(“package”, strPackageName, null);<br>Intent it = new Intent(Intent.ACTION_DELETE, uri);<br>startActivity(it);<br>//15.发送附件:<br>Intent it = new Intent(Intent.ACTION_SEND);<br>it.putExtra(Intent.EXTRA_SUBJECT, “The email subject text”);<br>it.putExtra(Intent.EXTRA_STREAM, “file:///sdcard/eoe.mp3”);<br>sendIntent.setType(“audio/mp3”);<br>startActivity(Intent.createChooser(it, “Choose Email Client”));<br>//16.进入联系人页面:<br>Intent intent = new Intent();<br>intent.setAction(Intent.ACTION_VIEW);<br>intent.setData(People.CONTENT_URI);<br>startActivity(intent);<br>//17.查看指定联系人:<br>Uri personUri = ContentUris.withAppendedId(People.CONTENT_URI, info.id);//info.id联系人ID<br>Intent intent = new Intent();<br>intent.setAction(Intent.ACTION_VIEW);<br>intent.setData(personUri);<br>startActivity(intent);</p>
</blockquote>
<h3 id="设置全屏方法"><a href="#设置全屏方法" class="headerlink" title="设置全屏方法"></a>设置全屏方法</h3><ul>
<li>getActionBar().hide();</li>
<li>在super之前调用requestWindowFeature(Window.FEATURE_NO_TITLE); </li>
<li>设置theme = @android:style/Theme.NoTitleBar.FullScreen</li>
</ul>
<p><a href="http://blog.sina.com.cn/s/blog_618199e60101g1k5.html" target="_blank" rel="external">onSave、onRestore</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Activity/">Activity</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  

 </div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 TanJunDang
            </div>
		<!--
      <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
      </div>
		-->

        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >访问人数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 5;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>


<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

  </div>
</body>
</html>